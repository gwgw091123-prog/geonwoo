<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>거창대성고 대학·학과 추천기 (세분화 최종판)</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;600&display=swap" rel="stylesheet">
<style>
body{font-family:'Noto Sans KR',sans-serif;}
.bar-bg{background:#e5e7eb;height:8px;border-radius:4px;overflow:hidden}
.bar-fill{height:100%;border-radius:4px 0 0 4px;background:linear-gradient(90deg,#34d399,#06b6d4)}
.status{font-weight:600}
.possible{color:#065f46}
.borderline{color:#92400e}
.impossible{color:#7f1d1d}
</style>
</head>
<body class="bg-gray-50 min-h-screen p-4">
<div class="max-w-5xl mx-auto bg-white p-6 rounded-xl shadow">
<h1 class="text-2xl font-bold mb-4 text-center">🎓 거창대성고 대학·학과 추천 시뮬레이터 (최종 세분화판)</h1>

<div class="grid md:grid-cols-3 gap-4 mb-4">
<div>
<label class="block mb-1 text-sm">등급제 선택</label>
<select id="system" class="border rounded p-2 w-full">
<option value="9">9등급제</option>
<option value="5">5등급제</option>
</select>
</div>

<div>
<label class="block mb-1 text-sm">계열 선택</label>
<select id="field" class="border rounded p-2 w-full">
<option value="medicine">의학·약학·보건계열</option>
<option value="dentistry">치의학·한의학계열</option>
<option value="engineering">공학계열</option>
<option value="it">IT·AI계열</option>
<option value="natural">자연과학·수학계열</option>
<option value="humanities">인문·사회계열</option>
<option value="education">교육계열</option>
<option value="arts">예체능계열</option>
<option value="agri">농수해양계열</option>
<option value="welfare">생활복지·유아계열</option>
<option value="military">군사·경찰계열</option>
</select>
</div>

<div>
<label class="block mb-1 text-sm">내 등급 입력 (소수 가능)</label>
<input id="grade" type="number" step="0.01" min="1" max="9" class="border rounded p-2 w-full" placeholder="예: 2.35"/>
<div class="mt-2 flex items-center gap-2">
<input id="rural" type="checkbox"/><label for="rural" class="text-sm">농어촌 전형 해당</label>
</div>
</div>
</div>

<div class="text-center">
<button id="analyze" class="px-6 py-2 bg-sky-100 rounded hover:bg-sky-200">결과 보기</button>
</div>

<div id="result" class="mt-6 hidden"></div>
</div>

<script>
// ✅ 대학+학과 데이터 (세분화)
const UNIS=[
 // Medicine / Pharmacy / Nursing
 {name:"서울대 의예과",field:"medicine",cut5:1.0,cut9:1.0},
 {name:"연세대 의예과",field:"medicine",cut5:1.1,cut9:1.2},
 {name:"고려대 약학과",field:"medicine",cut5:1.25,cut9:1.45},
 {name:"이화여대 약학과",field:"medicine",cut5:1.3,cut9:1.6},
 {name:"울산대 의예과",field:"medicine",cut5:1.35,cut9:1.55},
 {name:"경북대 의예과",field:"medicine",cut5:1.6,cut9:1.9},
 {name:"가천대 간호학과",field:"medicine",cut5:2.6,cut9:3.1},
 {name:"원광대 간호학과",field:"medicine",cut5:2.7,cut9:3.2},
 {name:"대구가톨릭대 보건학과",field:"medicine",cut5:3.0,cut9:3.7},
 // Dentistry / Oriental
 {name:"경희대 치의예과",field:"dentistry",cut5:1.25,cut9:1.4},
 {name:"원광대 치의예과",field:"dentistry",cut5:1.5,cut9:1.8},
 {name:"대구한의대 한의예과",field:"dentistry",cut5:1.6,cut9:2.0},
 {name:"동국대 한의예과",field:"dentistry",cut5:1.7,cut9:2.2},
 // Engineering
 {name:"서울대 컴퓨터공학",field:"engineering",cut5:1.2,cut9:1.4},
 {name:"카이스트 전산학",field:"engineering",cut5:1.1,cut9:1.3},
 {name:"한양대 기계공학",field:"engineering",cut5:1.5,cut9:1.8},
 {name:"성균관대 전자공학",field:"engineering",cut5:1.6,cut9:2.0},
 {name:"중앙대 건축학",field:"engineering",cut5:1.9,cut9:2.3},
 {name:"강원대 기계공학",field:"engineering",cut5:2.9,cut9:3.8},
 // IT / AI
 {name:"포항공대 AI학과",field:"it",cut5:1.1,cut9:1.2},
 {name:"서울대 소프트웨어학부",field:"it",cut5:1.2,cut9:1.4},
 {name:"한양대 정보시스템",field:"it",cut5:1.6,cut9:1.9},
 {name:"고려대 사이버보안",field:"it",cut5:1.7,cut9:2.0},
 {name:"경북대 컴퓨터공학",field:"it",cut5:2.4,cut9:3.1},
 // Natural
 {name:"서울대 물리학과",field:"natural",cut5:1.4,cut9:1.7},
 {name:"연세대 화학과",field:"natural",cut5:1.5,cut9:1.9},
 {name:"서울대 수학과",field:"natural",cut5:1.3,cut9:1.6},
 {name:"부산대 생명과학과",field:"natural",cut5:2.4,cut9:3.2},
 {name:"충남대 수학교육과",field:"natural",cut5:2.5,cut9:3.4},
 // Humanities
 {name:"서울대 경영학과",field:"humanities",cut5:1.3,cut9:1.6},
 {name:"연세대 정치외교",field:"humanities",cut5:1.5,cut9:1.8},
 {name:"고려대 심리학과",field:"humanities",cut5:1.6,cut9:1.9},
 {name:"중앙대 미디어커뮤니케이션",field:"humanities",cut5:2.0,cut9:2.6},
 {name:"한국외대 영어영문",field:"humanities",cut5:2.4,cut9:3.0},
 // Education
 {name:"서울교대 초등교육",field:"education",cut5:1.5,cut9:1.9},
 {name:"부산교대 초등교육",field:"education",cut5:1.7,cut9:2.2},
 {name:"진주교대 초등교육",field:"education",cut5:2.0,cut9:2.6},
 {name:"서울대 수학교육",field:"education",cut5:1.4,cut9:1.8},
 {name:"공주교대 초등교육",field:"education",cut5:2.1,cut9:2.8},
 // Arts
 {name:"서울예대 실용음악",field:"arts",cut5:3.5,cut9:5.0},
 {name:"경희대 체육교육",field:"arts",cut5:2.6,cut9:3.1},
 {name:"이화여대 디자인",field:"arts",cut5:2.3,cut9:2.9},
 {name:"호남대 실용음악",field:"arts",cut5:3.7,cut9:5.1},
 // Agriculture / Marine
 {name:"서울대 식품생명공학",field:"agri",cut5:1.5,cut9:1.9},
 {name:"전남대 농학과",field:"agri",cut5:2.4,cut9:3.1},
 {name:"부경대 해양학과",field:"agri",cut5:2.8,cut9:3.8},
 // Welfare / Child / Fashion
 {name:"이화여대 유아교육과",field:"welfare",cut5:2.1,cut9:2.8},
 {name:"덕성여대 사회복지학과",field:"welfare",cut5:2.7,cut9:3.4},
 {name:"건국대 패션디자인",field:"welfare",cut5:2.8,cut9:3.5},
 // Military / Police
 {name:"육군사관학교",field:"military",cut5:1.3,cut9:1.5},
 {name:"경찰대학",field:"military",cut5:1.2,cut9:1.4},
 {name:"국방대 군사학",field:"military",cut5:1.5,cut9:1.9}
];

function ruralAdjust(sys,g){return sys==='5'?Math.max(1,g-0.35):Math.max(1,g-0.65);}
function classify(sys,g,u){
 const cut=sys==='5'?u.cut5:u.cut9;
 const diff=cut-g;
 const margin=sys==='5'?0.5:1.0;
 let st,prob;
 if(diff>=0.25){st='possible';prob=90+Math.min(9,diff*10);}
 else if(diff>=-margin){st='borderline';prob=50+(diff/margin)*30;}
 else{st='impossible';prob=Math.max(1,20+diff*20);}
 prob=Math.max(1,Math.min(99,Math.round(prob)));
 return{st,prob,diff,cut};
}

document.getElementById('analyze').onclick=()=>{
 const sys=document.getElementById('system').value;
 const field=document.getElementById('field').value;
 const g=parseFloat(document.getElementById('grade').value);
 const rural=document.getElementById('rural').checked;
 if(isNaN(g))return alert('등급을 입력하세요.');
 const adj=ruralAdjust(sys,g);
 const list=UNIS.filter(x=>x.field===field);
 if(!list.length)return alert('데이터 없음');
 const eva=list.map(u=>{const r=classify(sys,adj,u);return{...u,...r};});
 eva.sort((a,b)=>{
   const order={possible:3,borderline:2,impossible:1};
   const oa=order[a.st]||0,ob=order[b.st]||0;
   if(oa!==ob)return ob-oa;
   return b.prob-a.prob;
 });
 const res=document.getElementById('result');
 res.classList.remove('hidden');
 let h=`<div class="text-sm text-gray-700 mb-3">등급제:${sys} | 입력등급:${g} → 보정:${adj.toFixed(2)} ${rural?'(농어촌 적용)':''}</div>`;
 h+='<div class="grid md:grid-cols-2 gap-3">';
 eva.forEach(v=>{
   const c=v.st==='possible'?'possible':v.st==='borderline'?'borderline':'impossible';
   const label=v.st==='possible'?'가능(합격권)':v.st==='borderline'?'경계(주의)':'불가능(권장X)';
   const diffTxt=v.diff>=0?`컷라인보다 +${v.diff.toFixed(2)} 유리`:`컷라인보다 -${Math.abs(v.diff).toFixed(2)} 부족`;
   h+=`<div class="p-3 border rounded">
   <div class="flex justify-between"><div class="font-semibold">${v.name}</div><div class="status ${c}">${label}</div></div>
   <div class="text-xs text-gray-600 mt-1">${diffTxt}</div>
   <div class="bar-bg mt-2"><div class="bar-fill" style="width:${v.prob}%;"></div></div>
   <div class="text-xs text-gray-600 mt-1">예상 합격확률: ${v.prob}%</div></div>`;
 });
 h+='</div>';
 const impossibleAll=eva.every(e=>e.st==='impossible');
 if(impossibleAll){
   const alt=UNIS.filter(x=>x.field===field&&((sys==='5'?x.cut5:x.cut9)>adj)).slice(0,4);
   h+=`<div class="mt-4 text-red-600 font-semibold">⚠️ 현재 성적으로는 ${field} 계열 상위권 학과 합격이 어렵습니다.</div>`;
   if(alt.length){
     h+='<div class="mt-2 text-sm text-gray-700">대체 추천:</div><ul class="list-disc ml-6 text-sm text-gray-600">';
     alt.forEach(a=>h+=`<li>${a.name} (컷라인 ${sys==='5'?a.cut5:a.cut9})</li>`);
     h+='</ul>';
   }
 }
 res.innerHTML=h;
};
</script>
</body>
</html>
